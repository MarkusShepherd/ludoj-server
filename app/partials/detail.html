<!DOCTYPE html>
<section xmlns="http://www.w3.org/1999/xhtml"
		id="game-details">
	<h1>
		<span ng-if="game.name_short"
				data-toggle="tooltip"
				title="{{ game.name }}">
			{{ game.name_short }}
		</span>
		<span ng-if="!game.name_short">{{ game.name }}</span>
		<small ng-if="game.year || game.designer_display"
				class="text-secondary">
			<span ng-if="game.designer_display">by {{ game.designer_display }}</span>
			<span ng-if="game.year">({{ game.year }})</span>
		</small>
	</h1>
	<p>
		View on <a ng-href="{{ game.url }}" target="_blank">BoardGameGeek <i class="fas fa-external-link-alt"></i></a>.
		<a href="#/?filters">Back to overview</a>.
		Buy from
		<a ng-href="https://www.amazon.com/gp/search?ie=UTF8&amp;tag=ludoj0f-20&amp;index=toys-and-games&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.com"
			class="product-link">Amazon <span class="product-link-flag">ğŸ‡ºğŸ‡¸</span></a>
		<a ng-href="https://www.amazon.co.uk/gp/search?ie=UTF8&amp;tag=ludoj-21&amp;index=toys&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.co.uk"
			class="product-link product-link-flag">ğŸ‡¬ğŸ‡§</a>
		<a ng-href="https://www.amazon.de/gp/search?ie=UTF8&amp;tag=ludoj09-21&amp;index=toys&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.de"
			class="product-link product-link-flag">ğŸ‡©ğŸ‡ª</a>
		<a ng-href="https://www.amazon.fr/gp/search?ie=UTF8&amp;tag=ludoj04-21&amp;index=toys&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.fr"
			class="product-link product-link-flag">ğŸ‡«ğŸ‡·</a>
		<a ng-href="https://www.amazon.it/gp/search?ie=UTF8&amp;tag=ludoj09f-21&amp;index=toys&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.it"
			class="product-link product-link-flag">ğŸ‡®ğŸ‡¹</a>
		<a ng-href="https://www.amazon.es/gp/search?ie=UTF8&amp;tag=ludoj0f-21&amp;index=toys&amp;keywords={{ game.name_url }}"
			target="_blank"
			title="Buy from Amazon.es"
			class="product-link product-link-flag">ğŸ‡ªğŸ‡¸</a>
	</p>
	<div class="game-description {{ expandable ? 'expandable' : '' }} {{ expandDescription ? 'expanded' : '' }} clearfix">
		<img ng-if="game.image_url"
			ng-src="{{ game.image_url }}"
			class="img-fluid game-img d-block float-md-right mb-3 mx-auto ml-md-3"
			alt="{{ game.name }}"
			title="{{ game.name }}" />
		<!-- TODO artist as caption -->
		<div class="game-info-box mb-3">
			<player-count ng-if="game" game="game"></player-count>
			<span ng-if="game.time_string"
					class="game-time">
				<i class="fas fa-clock"></i> {{ game.time_string }}
			</span>
			<span ng-if="game.min_age_rec || game.min_age"
					class="game-age">
				<i class="fas fa-child"></i> {{ game.min_age_rec || game.min_age | number:0 }}+ years
			</span>
			<span ng-if="game.complexity_string"
					class="game-complexity"
					data-toggle="tooltip"
					title="{{ game.complexity | number:1 }} / 5">
				<i class="fas fa-balance-scale"></i> {{ game.complexity_string }}
			</span>
			<span ng-if="game.cooperative_string"
					class="game-cooperative">
				<i class="fas fa-handshake"></i> {{ game.cooperative_string }}
			</span>
			<span ng-if="game.rec_rank"
					class="game-ranking">
				<i class="fas fa-hashtag"></i> Rank: {{ game.rec_rank }}
			</span>
		</div>
		<p ng-repeat="description in game.description_array"
				class="{{ $first ? 'lead' : '' }}">
			{{ description }}
		</p>
		<div ng-if="expandable"
				ng-click="toggleDescription()"
				class="expandable-bottom">
			<span ng-if="expandDescription">
				<i class="far fa-minus-square"></i> Less
			</span>
			<span ng-if="!expandDescription">
				<i class="far fa-plus-square"></i> More
			</span>
		</div>
	</div>
	<section ng-if="implementations">
		<h2>
			Related games
		</h2>
		<div class="row align-items-end related-games">
			<div ng-repeat="game in implementationOf" class="col-xl-2 col-md-3 col-sm-4 col-6">
				<strong ng-if="$first">Reimplements:</strong>
				<game-square game="game" class="game-small"></game-square>
			</div>
			<div ng-repeat="game in implementedBy" class="col-xl-2 col-md-3 col-sm-4 col-6">
				<strong ng-if="$first">Reimplemented by:</strong>
				<game-square game="game" class="game-small"></game-square>
			</div>
		</div>
	</section>
	<section>
		<h2>Statistics</h2>
		<dl>
			<dt>BGG ranking</dt>
			<dd><strong>{{ game.bgg_rank | number:0 }}</strong> (geek rating <strong>{{ game.bayes_rating | number:3 }} / 10</strong>, average rating <strong>{{ game.avg_rating | number:3 }} / 10</strong>, <strong>{{ game.num_votes | number:0 }}</strong> votes)</dd>
			<dt>Ludoj ranking</dt>
			<dd><strong>{{ game.rec_rank | number:0 }}</strong> (rating <strong>{{ game.rec_rating | number:3 }}</strong>, TODO stars)</dd>
			<dt>Complexity</dt>
			<dd><strong>{{ game.complexity | number:2 }} / 5</strong> ({{ game.complexity_string }})</dd>
			<dt>Language dependency</dt>
			<dd><strong>{{ game.language_dependency | number:2 }}</strong> / 5 ({{ game.language_dependency_string }} TODO)</dd>
		</dl>
	</section>
</section>
